<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>后台管理</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="/nodeModules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/nodeModules/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/nodeModules/css/community.css">
    <script src="/nodeModules/jquery/dist/jquery.min.js"></script>
    <script src="/nodeModules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/nodeModules/js/community.js"></script>
    <style>
        body {
            margin: 0 auto;
        }

        .left {
            float: left;
        }

        .right {
            float: right;
        }

        .pg_header {
            position: fixed;
            top: 0;
            width: 100%;
            height: 48px;
            background-color: #2459a2;
            color: white;
            z-index: 10;
        }

        .pg_header .logo {
            height: 48px;
            width: 200px;
            text-align: center;
            color: white;
        }

        .pg_header .logo a img {
            height: 48px;
            width: 50px;
        }

        .pg_header .person_info {
            position: relative;
            height: 48px;
            width: 160px;
            /*text-align: center;*/
        }

        .pg_header .person_info img {
            border: 0;
            height: 48px;
            width: 50px;
            /*使用border-radius可以定义边框的圆角程度*/
            border-radius: 50%;
        }

        .pg_header .person_info .info {
            position: absolute;
            width: 150px;
            background-color: cornflowerblue;
            top: 50px;
            z-index: 20;
            display: none;
        }

        .pg_header .person_info .info a {
            display: block;
            color: white;
        }

        .pg_header .person_info:hover .info {
            display: block;
        }

        .pg_header .icons {
            line-height: 48px;
            padding: 0 20px 0 5px;
        }

        .pg_header .icons:hover {
            background-color: cornflowerblue;
        }

        .pg_header .icons span {
            padding: 1px 5px;
            line-height: 1px;
            border-radius: 50%;
            background-color: red;
            font-size: 12px;
        }

        .pg_content .menu {
            position: absolute;
            top: 50px;
            left: 0;
            bottom: 0;
            width: 200px;
            background-color: #dddddd;
        }

        .pg_content .content {
            position: absolute;
            top: 50px;
            right: 0;
            bottom: 0;
            left: 202px;
            background-color: white;
            overflow: auto;
            min-width: 980px;
            z-index: 8;
        }
    </style>
</head>
<body>

<div class="pg_header">
    <div th:insert="~{navigation :: nav}"></div>
</div>

<!--内容-->
<div class="pg_content">
    <!--左侧标签-->
    <div class="menu">
        <ul class="nav nav-pills nav-stacked" role="tablist">
            <li role="presentation" class="active"><a href="#user" aria-controls="user" role="tab" data-toggle="tab">用户管理</a>
            </li>
            <li role="presentation"><a href="#question" aria-controls="profile" role="tab" data-toggle="tab">帖子管理</a>
            </li>
            <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">评论管理</a>
            </li>
            <li role="presentation"><a href="#notifier" aria-controls="notifier" role="tab" data-toggle="tab">通知管理</a>
            </li>
        </ul>
    </div>
    <!--右侧内容-->
    <div class="content">
        <div class="tab-content">
            <!--用户管理-->
            <div role="tabpanel" class="tab-pane active" id="user">
                <div class="col-xs-12 col-sm-12 col-md-12 col-xs-12">
                    <table class="table table-hover">
                        <thead>
                        <th>ID</th>
                        <th>用户名</th>
                        <th>Token</th>
                        <th>首次登陆状态</th>
                        <th>最新登陆状态</th>
                        <th>头像</th>
                        <th>说明</th>
                        <th>操作</th>
                        </thead>
                        <tbody>
                        <tr th:each="user1 : ${session.user.getId()}">
                            <th th:text="${session.user.getId()}"></th>
                            <td th:text="${session.user.getName()}"></td>
                            <td th:text="${session.user.getToken()}">
                                <button type="button" class="btn btn-default" data-toggle="tooltip"
                                        data-placement="right" title="Tooltip on right">Tooltip on right
                                </button>
                            </td>
                            <td th:text="${#dates.format(session.user.getGmtCreate(),'yyyy-MM-dd HH:mm')}"></td>
                            <td th:text="${#dates.format(session.user.getGmtModified(),'yyyy-MM-dd HH:mm')}"></td>
                            <td th:text="${session.user.getAvatarUrl()}"></td>
                            <td th:text="${session.user.getBio()}"></td>
                            <td>
                                <a class="btn btn-default btn-sm admin-btn-operation" href="#" role="button">Link</a>
                                <a class="btn btn-default btn-sm admin-btn-operation" href="#" role="button">Link</a>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>
                <div style="display: none">
                    <!--页数-->
                    <!--                <nav aria-label="Page navigation">-->
                    <!--                    <ul class="pagination">-->
                    <!--                        &lt;!&ndash;第一页&ndash;&gt;-->
                    <!--                        <li th:if="${pagination.showFirstPage}">-->
                    <!--                            <a th:href="@{/admin/(page=${1})}" aria-label="Previous">-->
                    <!--                                <span aria-hidden="true">&lt;&lt;</span>-->
                    <!--                            </a>-->
                    <!--                        </li>-->
                    <!--                        &lt;!&ndash;上一页&ndash;&gt;-->
                    <!--                        <li th:if="${pagination.showPrevious}">-->
                    <!--                            <a th:href="@{/admin/(page=${pagination.page -1})}" aria-label="Previous">-->
                    <!--                                <span aria-hidden="true">&lt;</span>-->
                    <!--                            </a>-->
                    <!--                        </li>-->
                    <!--                        &lt;!&ndash;当前页&ndash;&gt;-->
                    <!--                        <li th:each="page : ${pagination.pages}" th:class="${pagination.page == page} ? 'active' : '' ">-->
                    <!--                            <a th:href="@{/admin/(page=${page})}" th:text="${page}"></a>-->
                    <!--                        </li>-->
                    <!--                        &lt;!&ndash;下一页&ndash;&gt;-->
                    <!--                        <li th:if="${pagination.showNext}">-->
                    <!--                            <a th:href="@{/admin/(page=${pagination.page +1})}" aria-label="Next">-->
                    <!--                                <span aria-hidden="true">&gt;</span>-->
                    <!--                            </a>-->
                    <!--                        </li>-->
                    <!--                        &lt;!&ndash;最后一页&ndash;&gt;-->
                    <!--                        <li th:if="${pagination.showEndPage}">-->
                    <!--                            <a th:href="@{/admin/(page=${pagination.totalPage})}" aria-label="Next">-->
                    <!--                                <span aria-hidden="true">&gt;&gt;</span>-->
                    <!--                            </a>-->
                    <!--                        </li>-->
                    <!--                    </ul>-->
                    <!--                </nav>-->
                </div>
            </div>
            <!--帖子管理-->
            <div role="tabpanel" class="tab-pane" id="question">
                <div class="col-xs-12 col-sm-12 col-md-12 col-xs-12">
                    <table class="table table-hover">
                        <thead>
                        <th>ID</th>
                        <th>创建者</th>
                        <th>标题</th>
                        <th>创建时间</th>
                        <th>更新时间</th>
                        <th>浏览次数</th>
                        <th>标签</th>
                        <th>操作</th>
                        </thead>
                        <tbody>
                        <tr th:each="question : ${pagination.data}">
                            <th th:text="${question.id}"></th>
                            <td th:text="${question.creator}"></td>
                            <td th:text="${question.title}"></td>
                            <td th:text="${#dates.format(question.gmtCreate,'yyyy-MM-dd HH:mm')}"></td>
                            <td th:text="${#dates.format(question.gmtModified,'yyyy-MM-dd HH:mm')}"></td>

                            <td th:text="${question.viewCount}"></td>
                            <td th:text="${question.tag}"></td>
                            <td>
                                <a class="btn btn-default btn-sm admin-btn-operation"
                                   th:href="@{'/publish/'+${question.id}}" role="button">编辑</a>
                                <a class="btn btn-default btn-sm admin-btn-operation"
                                   th:href="@{'/question/'+${question.id}}" role="button">链接</a>
                                <a class="btn btn-danger btn-sm admin-btn-operation"
                                   th:href="@{'/admin/question/'+${question.id}}"
                                   style="background: red">删除</a>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>
            </div>
            <!--评论管理-->
            <div role="tabpanel" class="tab-pane" id="messages">
                <div class="col-xs-12 col-sm-12 col-md-12 col-xs-12">
                    <table class="table table-hover">
                        <thead>
                        <th>ID</th>
                        <th>问题帖子ID</th>
                        <th>一级/二级评论</th>
                        <th>评论人</th>
                        <th>评论时间</th>
                        <th>评论内容</th>
                        <th>该评论的二级评论数</th>
                        <th>操作</th>
                        </thead>
                        <tbody>
                        <tr th:each="comment : ${paginationComment.data}">
                            <th th:text="${comment.id}"></th>
                            <th th:text="${comment.parentId}"></th>
                            <th th:text="${comment.type}"></th>
                            <th th:text="${comment.commentator}"></th>
                            <th th:text="${#dates.format(comment.gmtCreate,'yyyy-MM-dd HH:mm')}"></th>
                            <th th:text="${comment.content}"></th>
                            <th th:text="${comment.commentCount}"></th>
                            <th>
                                <a class="btn btn-default btn-sm admin-btn-operation"
                                   th:href="@{'/question/'+${comment.parentId}}" role="button">链接</a>
                                <a class="btn btn-danger btn-sm admin-btn-operation"
                                   th:href="@{'/admin/comment/'+${comment.id}}"
                                   style="background: red">删除</a>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--通知管理-->
            <div role="tabpanel" class="tab-pane" id="notifier">
                <div class="col-xs-12 col-sm-12 col-md-12 col-xs-12">
                    <table class="table table-hover">
                        <thead>
                        <th>ID</th>
                        <th>评论人ID</th>
                        <th>评论人</th>
                        <th>评论帖子</th>
                        <th>发帖人ID</th>
                        <th>评论是否已经被查看</th>
                        <th>评论发布时间</th>
                        <th>评论浏览次数</th>
                        <th>操作</th>
                        </thead>
                        <tbody>
                        <tr th:each="notification : ${paginations.data}">
                            <th th:text="${notification.id}"></th>
                            <th th:text="${notification.notifier}"></th>
                            <th th:text="${notification.notifierName}"></th>
                            <th th:text="${notification.outerTitle}"></th>
                            <th th:text="${notification.outerid}"></th>
                            <th>
                                <span th:if="${notification.status}!=0">是</span>
                                <span th:if="${notification.status}==0">否</span>
                            </th>
                            <th th:text="${#dates.format(notification.gmtCreate,'yyyy-MM-dd HH:mm')}"></th>
                            <th th:text="${notification.type}"></th>
                            <th>
                                <a class="btn btn-default btn-sm admin-btn-operation"
                                   th:href="@{'/notification/'+${notification.id}}" role="button">链接</a>
                                <a class="btn btn-danger btn-sm admin-btn-operation"
                                   th:href="@{'/admin/notification/'+${notification.id}}"
                                   style="background: red">删除</a>
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="pg_footer"></div>
</body>
</html>